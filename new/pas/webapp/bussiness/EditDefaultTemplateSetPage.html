<html jwcid="@Shell"   title="默认模板管理"  doctype=""
	  browserLogLevel="DEBUG"
	  consoleEnabled="true"
	  debugEnabled="true">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<script src="../js/pams.js" type="text/javascript" charset="gbk"></script>
<script src="../js/common.js" type="text/javascript" charset="gbk"></script>
</head>
<script type="text/javascript"><!--
	function  setBussinessTypeValue(val1,val2){
		//得到当前工程名称
		var project=location.href.split('/')[3];
		//alert(val1);
		//alert(val2);		
		//得到map的值
		var mapValue=document.getElementById("templateId").value;
		//if(mapValue==""){
			//alert("map is null 是添加操作");
		//}else{
			//alert("map ="+mapValue);
			
		//}
		var str="";
		var url="/"+project+"/bussiness/TemplateChoicePage.external?sp=Smap&amp;sp=0";
		var inputs=document.getElementsByTagName("input");
		for(var i=0;i<inputs.length;i++){
			var e = document.getElementsByTagName("input")[i];
			if((e.id=='Any')){
				//alert(e.getAttribute("onclick"));
				//str=e.getAttribute("onclick");
				if(mapValue==""){ //新增加
					url="/"+project+"/bussiness/TemplateChoicePage.external?sp=templateId&amp;sp="+val1+"&amp;sp="+val2;
				}else{//修改
					url="/"+project+"/bussiness/TemplateChoicePage.external?sp=templateId&amp;sp="+val1+"&amp;sp="+val2;
				}
				//alert(url);
			}
		}
		return url;
	}

function doSubmit(){
	var newWindow = window.open(setBussinessTypeValue(selectPageTypeInput(),selectWapTypeInput()), '', 'width=800,height=570,top=100,left=100,toolbar=no,menubar=no,scrollbars=yes,resizable=no,location=no,status=no');
	newWindow.focus();
}
//获取下拉框中的模板类型
function  selectPageTypeInput(){
   var se =document.getElementById("pageType");   
    var option=se.getElementsByTagName("option");   
     for(var i=0;i<option.length;++i)   
     {   
       if(option[i].selected)   
      {   
         //document.getElementById("showType").value = option[i].text ;  
         return option[i].value;
       } 
       if(i==option.length){
			alert("请先选择模板类型!");
       }  
     }   
}
//获取下拉框中的版本类型
function  selectWapTypeInput(){
   var se =document.getElementById("wapType");   
    var option=se.getElementsByTagName("option");   
     for(var i=0;i<option.length;++i)   
     {   
       if(option[i].selected)   
      {    
         return option[i].value;
       } 
       if(i==option.length){
			alert("请先选择版本类型!");
       }  
     }   
}

//--></script>
<link jwcid="@Relation" href="../css.css" media="all" />
<body jwcid="@Body">
<div jwcid="warn@hunthawk:Warning" /> 
<span jwcid="@hunthawk:ShowValidateError" delegate="bean:delegate"/>
<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td class="bar_-bg01">当前位置：CMS系统－》默认模板管理</td>
	</tr>
	<tr>
		<td height="22" valign="middle" background="../img/Toolbar_bg.png">
			<table height="22" border="0" cellpadding="0" cellspacing="0">
			  <tr >
				<tr>
					<td class="ToolbarLine"><img src="../img/icon_Add.png" width="11" height="11" align="absmiddle">&nbsp;设置默认模板</td>					
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td valign="top">
			<div style="width:100%; height: 100%; overflow: auto;">
				<form jwcid="userForm@Form" clientValidationEnabled="true">	
				<input type="hidden" jwcid="model@Hidden" value="ognl:model" />
					<br>
					<br>
					<table width="100%" border="0" cellspacing="6" cellpadding="0">
					
											<tr>
											<td width="15%" align="right">模板类型：<br>
												</td>
												<td width="85%">
												<select jwcid="pageType"></select>
												<!--<input name="textfield" type="text" class="inputMain" jwcid="pageType@PropertySelection" model="ognl:pageTypeist"  value="ognl:model.pageType" validators="validators:required" displayName="literal:模板类型"/>
												
												--></td>												
											</tr>
											
											<tr>
											<td width="15%" align="right">版本类型：<br>
												</td>
												<td width="85%">
												<select jwcid="wapType"></select>
												<!--  <input name="textfield" type="text" class="inputMain" jwcid="wapType@PropertySelection" model="ognl:wapTypeist"  value="ognl:model.wapType" validators="validators:required" displayName="literal:版本类型"/>
												--></td>												
											</tr>
											<tr>
											<td width="15%" align="right">选择模板：<br>
												</td>
												<td width="85%">
												<!--<input name="textfield" type="text" class="inputMain"    jwcid="templateId@TextField"  value="ognl:model.templateId" validators="validators:required" displayName="literal:模板"/>
													&nbsp;&nbsp; 
													<input name="Submit" jwcid="@Any" type="button" class="buttonMain" value="选择模板" onClick="ognl:templateURL"/>
													<input type="button" name="Any" id="Any" onclick="javascript:doSubmit();" value="选择模板"/>-->
													
													<select jwcid="template"></select>
												</td>												
											</tr>																						
											<tr>
												<td align="right">&nbsp;</td>
												<td>
													<input name="Submit2" type="submit" class="buttonMain" value="确  定" jwcid="submitEpack@Submit" listener="listener:saveAndReturn" />
													
													&nbsp;&nbsp;&nbsp;&nbsp;<input name="Submit2" type="Reset" class="buttonMain"  value="重  置">
													
												</td>
											</tr>
											<tr>
												<td align="right">&nbsp;</td>
												<td>&nbsp;</td>
											</tr>
					</table>	
				</form>
			</div>
		</td>
	</tr>
</table>
</body>
</html>